(this.webpackJsonpextension=this.webpackJsonpextension||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),l=(n(11),n(5)),i=n(1);function u(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],m=u[1],d=Object(a.useState)(""),h=Object(i.a)(d,2),f=h[0],v=h[1],w=Object(a.useState)(null),b=Object(i.a)(w,2),p=b[0],E=b[1],j=Object(a.useRef)(null);Object(a.useEffect)((function(){window.chrome.tabs.query({active:!0,currentWindow:!0},(function(e){var t=e[0];v(t.url),new URLSearchParams(t.url).get("wpSession")&&(c(!0),m(t.url),E(t.id))}))}),[]);return console.log(n),n?r.a.createElement("div",null,r.a.createElement("h3",null,"There is a party started!"),r.a.createElement("div",null,r.a.createElement("textarea",{ref:j,value:s}),r.a.createElement("button",{onClick:function(){j.current.select(),document.execCommand("copy")}},"Copy!")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e=new URL(f).searchParams;e.delete("wpSession");var t,n=[],a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){var r=Object(i.a)(t.value,2),o=r[0],u=r[1];n.push(o+"="+u)}}catch(m){a.e(m)}finally{a.f()}var s=f.split("?")[0]+"?"+n.join("&");window.chrome.tabs.update(p,{url:s}),c(!1)}},"Stop session"))):r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e=new URL(f).pathname.split("/").filter((function(e){return""!==e}))[1],t=String(e)+"-"+String(Math.round((new Date).valueOf()/1e3)),n=f+"&wpSession="+t;window.chrome.tabs.update(p,{url:n}),m(n),c(!0)}},"Start a party!"))}var s=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to CrunchyParty!"),r.a.createElement("h3",null,"Watch anime with your friends!"),r.a.createElement("div",null,r.a.createElement(u,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){e.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.0a976c72.chunk.js.map